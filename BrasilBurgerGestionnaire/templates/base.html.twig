<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>
			{% block title %}Brasil Burger Gestionnaire
			{% endblock %}
		</title>

		<!-- Bootstrap CSS -->
		<link
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">


		<!-- Bootstrap Icons -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">

		<style>:root
		{
			--sidebar-width: 250px;
			--header-height: 60px;
			--brasil-red: #dc3545;
			--brasil-dark-red: #c82333;
		}

		body {
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
			background-color: #f8f9fa;
		}

		/* Sidebar */
		.sidebar {
			position: fixed;
			top: 0;
			left: 0;
			height: 100vh;
			width: var(--sidebar-width);
			background: linear-gradient(180deg, var(--brasil-red) 0%, var(--brasil-dark-red) 100%);
			color: white;
			overflow-y: auto;
			z-index: 1000;
			box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
		}

		.sidebar-header {
			padding: 1.5rem 1rem;
			text-align: center;
			border-bottom: 1px solid rgba(255, 255, 255, 0.1);
		}

		.sidebar-header h4 {
			margin: 0;
			font-size: 1.2rem;
			font-weight: bold;
		}

		.sidebar-menu {
			padding: 1rem 0;
		}

		.sidebar-menu a {
			display: flex;
			align-items: center;
			padding: 0.75rem 1.5rem;
			color: rgba(255, 255, 255, 0.8);
			text-decoration: none;
			transition: all 0.3s;
		}

		.sidebar-menu a:hover {
			background-color: rgba(255, 255, 255, 0.1);
			color: white;
			padding-left: 2rem;
		}

		.sidebar-menu a.active {
			background-color: rgba(255, 255, 255, 0.2);
			color: white;
			border-left: 4px solid white;
		}

		.sidebar-menu a i {
			margin-right: 0.75rem;
			font-size: 1.1rem;
		}

		/* Header */
		.main-header {
			position: fixed;
			top: 0;
			left: var(--sidebar-width);
			right: 0;
			height: var(--header-height);
			background: white;
			box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
			z-index: 999;
			display: flex;
			align-items: center;
			padding: 0 2rem;
			justify-content: space-between;
		}

		.main-header h5 {
			margin: 0;
			color: #333;
		}

		/* Content */
		.main-content {
			margin-left: var(--sidebar-width);
			margin-top: var(--header-height);
			padding: 2rem;
			min-height: calc(100vh - var(--header-height));
		}

		/* Cards */
		.stat-card {
			border: none;
			border-radius: 15px;
			box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
			transition: transform 0.3s;
		}

		.stat-card:hover {
			transform: translateY(-5px);
		}

		.stat-icon {
			width: 60px;
			height: 60px;
			border-radius: 12px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 1.5rem;
		}

		/* Messages Flash */
		.alert {
			border-radius: 10px;
			border-left: 4px solid;
		}

		/* Responsive */
		@media(max-width: 768px) {
			.sidebar {
				transform: translateX(-100%);
			}
			.main-header,
			.main-content {
				margin-left: 0;
				left: 0;
			}
		}
	</style>
	{% block stylesheets %}{% endblock %}
</head>
<body>
	<!-- Sidebar -->
	<div class="sidebar">
		<div class="sidebar-header">
			<h4>üçî Brasil Burger</h4>
			<small>Espace Gestionnaire</small>
		</div>

		<div class="sidebar-menu">
			<a href="{{ path('app_dashboard') }}" class="{% if app.request.get('_route') == 'app_dashboard' %}active{% endif %}">
				<i class="bi bi-speedometer2"></i>
				Tableau de bord
			</a>

			<div class="px-3 py-2 text-white-50 small">CATALOGUE</div>
			<a href="{{ path('app_burger_index') }}" class="{% if app.request.get('_route') starts with 'app_burger' %}active{% endif %}">
				<i class="bi bi-circle-fill"></i>
				Burgers
			</a>
			<a href="{{ path('app_menu_index') }}" class="{% if app.request.get('_route') starts with 'app_menu' %}active{% endif %}">
				<i class="bi bi-box-seam"></i>
				Menus
			</a>
			<a href="{{ path('app_complement_index') }}" class="{% if app.request.get('_route') starts with 'app_complement' %}active{% endif %}">
				<i class="bi bi-cup-straw"></i>
				Compl√©ments
			</a>


			<div class="px-3 py-2 text-white-50 small">COMMANDES</div>
			<a href="{{ path('app_commande_index') }}" class="{% if app.request.get('_route') starts with 'app_commande' %}active{% endif %}">
				<i class="bi bi-cart-check"></i>
				Liste des commandes
			</a>

			<div class="px-3 py-2 text-white-50 small">LIVRAISONS</div>
			<a href="{{ path('app_livraison_index') }}" class="{% if app.request.get('_route') == 'app_livraison_index' %}active{% endif %}">
				<i class="bi bi-truck"></i>
				Affecter livraisons
			</a>
			<a href="{{ path('app_livraison_historique') }}" class="{% if app.request.get('_route') == 'app_livraison_historique' %}active{% endif %}">
				<i class="bi bi-clock-history"></i>
				Historique
			</a>
			<a href="{{ path('app_zone_index') }}" class="{% if app.request.get('_route') starts with 'app_zone' %}active{% endif %}">
				<i class="bi bi-geo-alt"></i>
				G√©rer les zones
			</a>

			<div class="px-3 py-2 text-white-50 small">STATISTIQUES</div>
			<a href="#" class="{% if app.request.get('_route') starts with 'app_statistique' %}active{% endif %}">
				<i class="bi bi-graph-up"></i>
				Statistiques
			</a>
		</div>

		<div class="position-absolute bottom-0 w-100 p-3 border-top border-white border-opacity-10">
			<a href="{{ path('app_logout') }}" class="text-white text-decoration-none d-flex align-items-center">
				<i class="bi bi-box-arrow-right me-2"></i>
				D√©connexion
			</a>
		</div>
	</div>

	<!-- Header -->
	<div class="main-header">
		<div>
			<h5>
				{% block page_title %}Tableau de bord
				{% endblock %}
			</h5>
		</div>
		<div class="d-flex align-items-center">
			<div class="dropdown">
				<button class="btn btn-light dropdown-toggle" type="button" data-bs-toggle="dropdown">
					<i class="bi bi-person-circle"></i>
					{{ app.user.prenom }}
					{{ app.user.nom }}
				</button>
				<ul class="dropdown-menu dropdown-menu-end">
					<li>
						<span class="dropdown-item-text">{{ app.user.email }}</span>
					</li>
					<li><hr class="dropdown-divider"></li>
					<li>
						<a class="dropdown-item" href="{{ path('app_logout') }}">
							<i class="bi bi-box-arrow-right"></i>
							D√©connexion
						</a>
					</li>
				</ul>
			</div>
		</div>
	</div>

	<!-- Main Content -->
	<div
		class="main-content">
		<!-- Messages Flash -->
		{% for type, messages in app.flashes %}
			{% for message in messages %}
				<div class="alert alert-{{ type == 'error' ? 'danger' : type }} alert-dismissible fade show" role="alert">
					{% if type == 'success' %}
						<i class="bi bi-check-circle-fill me-2"></i>
					{% elseif type == 'error' or type == 'danger' %}
						<i class="bi bi-exclamation-triangle-fill me-2"></i>
					{% else %}
						<i class="bi bi-info-circle-fill me-2"></i>
					{% endif %}
					{{ message }}
					<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
				</div>
			{% endfor %}
		{% endfor %}

		{% block body %}{% endblock %}
	</div>

	<!-- Bootstrap JS -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

	{% block javascripts %}{% endblock %}
</body></html>
